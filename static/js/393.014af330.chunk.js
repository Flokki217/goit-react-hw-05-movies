"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[393],{387:function(t,e,n){n.d(e,{Bt:function(){return l},DD:function(){return f},SU:function(){return i},X:function(){return p},d5:function(){return v}});var r=n(861),a=n(757),c=n.n(a),u=n(243),s="https://api.themoviedb.org/3",o="7432f01d7cccbefe000838c110a92cf9",i=function(){var t=(0,r.Z)(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s,"/trending/movie/day?api_key=").concat(o));case 2:return e=t.sent,t.abrupt("return",e.data.results);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s,"/search/movie?api_key=").concat(o,"&query=").concat(e,"&page=1"));case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s,"/movie/").concat(e,"?api_key=").concat(o));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s,"/movie/").concat(e,"/credits?api_key=").concat(o));case 2:return n=t.sent,t.abrupt("return",n.data.cast);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(s,"/movie/").concat(e,"/reviews?api_key=").concat(o));case 2:return n=t.sent,t.abrupt("return",n.data.results);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},393:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var r=n(861),a=n(439),c=n(757),u=n.n(c),s="SearchInput_input__pvo3q",o="SearchInput_form__5l7m6",i="SearchInput_btn__+jAoV",p=n(184),f=function(t){var e=t.value,n=t.onChange;return(0,p.jsxs)("form",{className:o,children:[(0,p.jsx)("input",{className:s,type:"text",name:"query",placeholder:"Search you movie",value:e,onChange:function(t){return n(t.target.value)}}),(0,p.jsx)("button",{className:i,type:"submit",children:"Search"})]})},v=n(791),l=n(87),h=n(689),d=n(387),m=n(686),x=n.n(m),_="MoviesStyle_list__OTtfq",y="MoviesStyle_link__RFQ6Z",k=function(){var t,e=(0,l.lr)(),n=(0,a.Z)(e,2),c=n[0],s=n[1],o=null!==(t=c.get("query"))&&void 0!==t?t:"",i=(0,v.useState)(o||""),m=(0,a.Z)(i,2),k=m[0],w=m[1],b=(0,v.useState)([]),Z=(0,a.Z)(b,2),g=Z[0],S=Z[1],j=(0,h.TH)();(0,v.useEffect)((function(){var t=function(){var t=(0,r.Z)(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,k){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,(0,d.X)(k);case 5:e=t.sent,S(e),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),x().Notify.failure(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();t()}),[k]);var q=function(t){s(""!==t?{query:t}:{})};return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{children:(0,p.jsx)(f,{onSubmit:function(t){t.preventDefault();var e=t.target;""!==e.value&&(w(o),q(o),e.reset())},onChange:q})}),(0,p.jsx)("ul",{className:_,children:g.map((function(t){var e=t.id,n=t.title;return(0,p.jsx)("li",{children:(0,p.jsx)(l.rU,{className:y,to:"/movies/".concat(e),state:{from:j},children:n})},e)}))})]})}}}]);
//# sourceMappingURL=393.014af330.chunk.js.map